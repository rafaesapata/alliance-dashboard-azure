// Dados de demonstração para o dashboard
export const mockWorkItems = [
  {
    id: 12345,
    title: "Implementar autenticação SSO para AWS Partnership",
    state: "Active",
    workItemType: "User Story",
    type: "User Story",
    assignedTo: "João Silva",
    createdDate: "01/06/2025",
    modifiedDate: "03/06/2025",
    createdDateObj: new Date("2025-06-01"),
    areaPath: "AWS Partnership",
    priority: "High",
    tags: "authentication, aws, sso",
    url: "https://dev.azure.com/uds-tecnologia/_workitems/edit/12345",
    valor: "$45,000.00",
    oportunidade: "O7457652",
    cliente: "Petrobras",
    cashClaim: "$15,000.00"
  },
  {
    id: 12346,
    title: "Corrigir bug na integração com AWS Lambda",
    state: "In Progress",
    workItemType: "Bug",
    type: "Bug",
    assignedTo: "Maria Santos",
    createdDate: "30/05/2025",
    modifiedDate: "02/06/2025",
    createdDateObj: new Date("2025-05-30"),
    areaPath: "AWS Partnership",
    priority: "Critical",
    tags: "bug, aws, lambda",
    url: "https://dev.azure.com/uds-tecnologia/_workitems/edit/12346",
    valor: "$12,500.00",
    oportunidade: "O7452073",
    cliente: "Vale",
    cashClaim: "$8,000.00"
  },
  {
    id: 12347,
    title: "Documentação da API AWS Partnership",
    state: "Done",
    workItemType: "Task",
    type: "Task",
    assignedTo: "Pedro Costa",
    createdDate: "28/05/2025",
    modifiedDate: null,
    createdDateObj: new Date("2025-05-28"),
    areaPath: "AWS Partnership",
    priority: "Medium",
    tags: "documentation, api",
    url: "https://dev.azure.com/uds-tecnologia/_workitems/edit/12347",
    valor: "$8,000.00",
    oportunidade: "O7403128",
    cliente: "Banco do Brasil",
    cashClaim: "$3,200.00"
  },
  {
    id: 12348,
    title: "Configurar monitoramento CloudWatch",
    state: "New",
    workItemType: "Feature",
    type: "Feature",
    assignedTo: "Ana Oliveira",
    createdDate: "25/05/2025",
    modifiedDate: "01/06/2025",
    createdDateObj: new Date("2025-05-25"),
    areaPath: "AWS Partnership",
    priority: "Low",
    tags: "monitoring, cloudwatch, aws",
    url: "https://dev.azure.com/uds-tecnologia/_workitems/edit/12348",
    valor: "$22,000.00",
    oportunidade: "O7402909",
    cliente: "Itaú Unibanco",
    cashClaim: "$11,000.00"
  },
  {
    id: 12349,
    title: "Otimizar performance do dashboard",
    state: "Active",
    workItemType: "Task",
    type: "Task",
    assignedTo: "Carlos Ferreira",
    createdDate: "20/05/2025",
    modifiedDate: null,
    createdDateObj: new Date("2025-05-20"),
    areaPath: "AWS Partnership",
    priority: "Medium",
    tags: "performance, optimization",
    url: "https://dev.azure.com/uds-tecnologia/_workitems/edit/12349",
    valor: "$18,500.00",
    oportunidade: "O7397420",
    cliente: "Bradesco",
    cashClaim: "$7,400.00"
  },
  {
    id: 12350,
    title: "Implementar backup automático S3",
    state: "Resolved",
    workItemType: "Epic",
    type: "Epic",
    assignedTo: "Luiza Rodrigues",
    createdDate: "15/05/2025",
    modifiedDate: "30/05/2025",
    createdDateObj: new Date("2025-05-15"),
    areaPath: "AWS Partnership",
    priority: "High",
    tags: "backup, s3, automation",
    url: "https://dev.azure.com/uds-tecnologia/_workitems/edit/12350",
    valor: "$65,000.00",
    oportunidade: "O7267022",
    cliente: "Caixa Econômica Federal",
    cashClaim: "$26,000.00"
  },
  {
    id: 12351,
    title: "Teste de carga para API Gateway",
    state: "Closed",
    workItemType: "Task",
    type: "Task",
    assignedTo: "Roberto Lima",
    createdDate: "10/05/2025",
    modifiedDate: "28/05/2025",
    createdDateObj: new Date("2025-05-10"),
    areaPath: "AWS Partnership",
    priority: "Medium",
    tags: "testing, api-gateway, performance",
    url: "https://dev.azure.com/uds-tecnologia/_workitems/edit/12351",
    valor: "$14,000.00",
    oportunidade: "O7245891",
    cliente: "Santander",
    cashClaim: "$5,600.00"
  },
  {
    id: 12352,
    title: "Configurar alertas de segurança",
    state: "In Progress",
    workItemType: "User Story",
    type: "User Story",
    assignedTo: "Fernanda Alves",
    createdDate: "05/05/2025",
    modifiedDate: "03/06/2025",
    createdDateObj: new Date("2025-05-05"),
    areaPath: "AWS Partnership",
    priority: "Critical",
    tags: "security, alerts, monitoring",
    url: "https://dev.azure.com/uds-tecnologia/_workitems/edit/12352",
    valor: "$35,000.00",
    oportunidade: "O7234567",
    cliente: "Magazine Luiza",
    cashClaim: "$14,000.00"
  },
  {
    id: 12353,
    title: "Migração de dados para RDS",
    state: "New",
    workItemType: "Epic",
    type: "Epic",
    assignedTo: "Thiago Mendes",
    createdDate: "01/05/2025",
    modifiedDate: null,
    createdDateObj: new Date("2025-05-01"),
    areaPath: "AWS Partnership",
    priority: "High",
    tags: "migration, rds, database",
    url: "https://dev.azure.com/uds-tecnologia/_workitems/edit/12353",
    valor: "$78,000.00",
    oportunidade: "O7198765",
    cliente: "Embraer",
    cashClaim: "$31,200.00"
  },
  {
    id: 12354,
    title: "Implementar cache Redis",
    state: "Active",
    workItemType: "Feature",
    type: "Feature",
    assignedTo: "Beatriz Silva",
    createdDate: "28/04/2025",
    modifiedDate: "02/06/2025",
    createdDateObj: new Date("2025-04-28"),
    areaPath: "AWS Partnership",
    priority: "Medium",
    tags: "cache, redis, performance",
    url: "https://dev.azure.com/uds-tecnologia/_workitems/edit/12354",
    valor: "$25,000.00",
    oportunidade: "O7156432",
    cliente: "JBS",
    cashClaim: "$10,000.00"
  },
  {
    id: 12355,
    title: "Configurar pipeline CI/CD",
    state: "New",
    workItemType: "Task",
    type: "Task",
    assignedTo: "Rafael Santos",
    createdDate: "25/04/2025",
    modifiedDate: null,
    createdDateObj: new Date("2025-04-25"),
    areaPath: "AWS Partnership",
    priority: "High",
    tags: "devops, pipeline, automation",
    url: "https://dev.azure.com/uds-tecnologia/_workitems/edit/12355",
    valor: "$32,000.00",
    oportunidade: "O7134567",
    cliente: "Ambev",
    cashClaim: "Disponível"
  },
  {
    id: 12356,
    title: "Implementar logs estruturados",
    state: "In Progress",
    workItemType: "User Story",
    type: "User Story",
    assignedTo: "Camila Oliveira",
    createdDate: "20/04/2025",
    modifiedDate: "01/06/2025",
    createdDateObj: new Date("2025-04-20"),
    areaPath: "AWS Partnership",
    priority: "Medium",
    tags: "logging, observability, monitoring",
    url: "https://dev.azure.com/uds-tecnologia/_workitems/edit/12356",
    valor: "$18,500.00",
    oportunidade: "O7098765",
    cliente: "Natura",
    cashClaim: "Disponível"
  }
];

export const getMockStats = (workItems) => {
  const now = new Date();
  const currentMonth = now.getMonth();
  const currentYear = now.getFullYear();
  const currentQuarter = Math.floor(currentMonth / 3);
  
  const stats = {
    total: workItems.length,
    byState: {},
    byType: {},
    byAssignee: {},
    recentItems: workItems.slice(0, 12), // 12 mais recentes para melhor aproveitamento da tela
    valorMes: 0,
    valorTrimestre: 0,
    totalValue: 0,
    totalCashClaim: 0
  };

  workItems.forEach(item => {
    // Por estado
    stats.byState[item.state] = (stats.byState[item.state] || 0) + 1;
    
    // Por tipo
    stats.byType[item.workItemType] = (stats.byType[item.workItemType] || 0) + 1;
    
    // Por responsável
    stats.byAssignee[item.assignedTo] = (stats.byAssignee[item.assignedTo] || 0) + 1;
    
    // Calcular valores
    const itemValue = parseFloat(item.valor.replace(/[$\s,]/g, '')) || 0;
    const cashClaimValue = parseFloat(item.cashClaim.replace(/[$\s,]/g, '')) || 0;
    
    stats.totalValue += itemValue;
    stats.totalCashClaim += cashClaimValue;
    
    // Verificar se é do mês atual - usar createdDateObj para cálculos
    const itemDate = item.createdDateObj || new Date(item.createdDate);
    if (itemDate.getMonth() === currentMonth && itemDate.getFullYear() === currentYear) {
      stats.valorMes += itemValue;
    }
    
    // Verificar se é do trimestre atual
    const itemQuarter = Math.floor(itemDate.getMonth() / 3);
    if (itemQuarter === currentQuarter && itemDate.getFullYear() === currentYear) {
      stats.valorTrimestre += itemValue;
    }
  });

  return stats;
};

